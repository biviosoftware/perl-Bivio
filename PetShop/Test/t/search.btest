# Copyright (c) 2002 bivio Software, Inc.  All Rights Reserved.
# $Id$
test_setup('PetShop');
home_page();
follow_link('Dogs');
follow_link('Corgi');
add_to_cart('Female Puppy Corgi');
search_for('corgi');
verify_text('Female Puppy Corgi');
search_for('CORGI');
verify_text('Female Puppy Corgi');
search_for('dogs wales');
verify_text('Female Puppy Corgi');
# Test searching of realm files
follow_link('Groupware');
submit_form({
    _anon => 'SearchTest1'
});
verify_text('Search Results');
verify_text('Test Result One');
verify_text('Search results test page');
submit_form({
    _anon => 'search_test2.pdf'
});
verify_text('Search Results');
verify_text('Book1');
verify_text('Sparco Seat Base');
submit_form({
    _anon => 'test2'
});
verify_text('Sparco Seat Base');
submit_form({
    _anon => 'search-test3.txt'
});
verify_text('Search Results');
verify_text('search-test3.txt');
verify_text('Test Result Three');
submit_form({
    _anon => 'search test3'
});
verify_text('Test Result Three');
submit_form({
    _anon => 'search test 4.txt'
});
verify_text('Search Results');
verify_text('search test 4.txt');
verify_text('Test Result Four');
submit_form({
    _anon => 'logo.pdf'
});
verify_text('Search Results');
verify_text('logo.pdf');
verify_text('No excerpt');
# Private search
submit_form({
    _anon => 'SearchTest5.csv'
});
verify_text('Search Results');
verify_text('search did not match');
login_as('root');
follow_link('Groupware');
submit_form({
    _anon => 'SearchTest5.csv'
});
verify_text('Search Results');
verify_text('SearchTest5.csv');
verify_text('Test,Result,Five t,r,5');
# CSS not indexed
submit_form({
    _anon => 'my.css'
});
verify_text('Search Results');
verify_text('search did not match');
