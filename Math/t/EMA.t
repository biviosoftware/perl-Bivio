#!perl -w
# $Id$
#
use strict;
use Bivio::Test;
use Bivio::Math::EMA;
use POSIX ();
Bivio::Test->new->({
    equals => sub {
	my($expected, $actual) = @_;
	return POSIX::ceil($actual * 100000) / 100000;
    }
})->unit([
    Bivio::Math::EMA->new(30) => [
    	compute => [
	    [1] => [1],
	    [1] => [1],
#TODO: Need to add a rounding function?
	    [5] => [1.25806451612903],
	],
    ],
    Bivio::Math::EMA->new(2) => [
    	compute => [
	    [1] => [1],
	    [2] => [1.66666666666667],
	    [2] => [1.88888888888889],
	    [2] => [1.96296296296296],
	    [2] => [1.98765432098765],
	    [2] => [1.99588477366255],
	    [2] => [1.99862825788752],
	    [2] => [1.99954275262917],
	    [2] => [1.99984758420972],
	    [2] => [1.99994919473657],
	    [2] => [1.99998306491219],
	    [2] => [1.99999435497073],
	    [2] => [1.99999811832358],
	    [2] => [1.999999999],
	],
    ],
]);
